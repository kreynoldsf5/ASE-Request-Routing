{
  "class": "ADC",
  "schemaVersion": "3.10.0",
  "id": "1-800-273-8255",
  "label": "LTP-routing-micro-app",
  "remark": "Simple HTTP application for ASE onsite URI routing exercise",
  "Routing-Exercise-LTP": {
    "class": "Tenant",
    "Micro": {
      "class": "Application",
      "template": "http",
      "serviceMain": {
        "class": "Service_HTTP",
        "virtualAddresses": [
          "10.0.20.9"
        ],
        "policyEndpoint": "routing_policy"
      },
      "index-pool": {
        "class": "Pool",
        "monitors": [
          "http"
        ],
        "members": [{
          "servicePort": 8080,
          "shareNodes": true,
          "serverAddresses": [
            "10.1.10.5"
          ]
        }]
      },
      "favicon-pool": {
          "class": "Pool",
          "monitors": [
            "http"
          ],
          "members": [{
            "servicePort": 8181,
            "shareNodes": true,
            "serverAddresses": [
              "10.1.10.5"
            ]
          }]
      },
      "logo-pool": {
          "class": "Pool",
          "monitors": [
            "http"
          ],
          "members": [{
            "servicePort": 8282,
            "shareNodes": true,
            "serverAddresses": [
              "10.1.10.5"
            ]
          }]
      },
      "api-pool": {
          "class": "Pool",
          "monitors": [
            "http"
          ],
          "members": [{
            "servicePort": 8383,
            "shareNodes": true,
            "serverAddresses": [
              "10.1.10.5"
            ]
          }]
      },
      "profileMultiplex": {
          "bigip": "/Common/oneconnect"
      },
      "routing_policy": {
        "class": "Endpoint_Policy",
        "rules": [{
          "name": "forward_to_pool",
          "conditions": [{
            "type": "httpUri",
            "path": {
              "operand": "contains",
              "values": ["example.com"]
            }
          }],
          "actions": [{
            "type": "forward",
            "event": "request",
            "select": {
              "pool": {
                "use": "web_pool"
              }
            }
          }]
        }]
      }
    }
  }
}